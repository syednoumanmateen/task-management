<h4 class="font-weight-bold py-3 mb-4" *ngIf="view.exists">
    Edit Role <span class="text-muted">#{{role.data.roleCode||""}}</span>
</h4>
<h4 class="font-weight-bold py-3 mb-4" *ngIf="!view.exists">
    Add Role
</h4>

<div class="card mb-2">
    <div class="card-body pb-2">
        <span *ngIf="view.loading">
            <app-spinner></app-spinner>
        </span>
        <form class="form-row" [formGroup]="formGroup" *ngIf="!view.loading">
            <div class="form-group col-md-6">
                <label class="form-label">Role Name<span class="text-danger">*</span></label>
                <input type="name" formControlName="name" class="form-control mb-1">
            </div>
        </form>
        <div class="col-md-12 row no-gutters row-bordered row-border-light" *ngIf="!view.loading">
            <div class="col-sm-3">
                <div class="list-group list-group-flush account-settings-links">
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'all'}" (click)="curTab = 'all'">All</button>
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'user'}" (click)="curTab = 'user'">User</button>
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'project'}" (click)="curTab = 'project'">Project</button>
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'testcase'}" (click)="curTab = 'task'">Task</button>
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'role'}" (click)="curTab = 'role'">Role</button>
                    <button type="button" class="list-group-item list-group-item-action"
                        [ngClass]="{active: curTab === 'feature'}" (click)="curTab = 'feature'">Feature</button>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'all'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'user'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features |  myFilter:{moduleName:curTab}">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'project'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features |  myFilter:{moduleName:curTab}">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'task'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features |  myFilter:{moduleName:curTab}">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'role'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features |  myFilter:{moduleName:curTab}">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-9" *ngIf="curTab === 'feature'">
                <div class="card-body" style="padding: 0rem;">
                    <ul style="list-style: none; padding: 0rem;">
                        <li *ngFor="let feature of features |  myFilter:{moduleName:curTab}">
                            <div class="card card-condenced col-sm-12">
                                <div class="card-body row" style="padding: 0.6rem;">
                                    <span>
                                        <span>
                                            <span class="p-3">
                                                <input type="checkbox" [(ngModel)]="feature.isChecked"
                                                    (change)="featureSelected()">
                                            </span>
                                            {{feature.decription||""}}
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="text-right mt-3">
    <button type="button" class="btn btn-primary" (click)="onApiCall()">
        <span *ngIf="!view.exists">
            Add</span><span *ngIf="view.exists">Edit</span>
    </button>&nbsp;
    <button type="button" class="btn btn-default" (click)="onCancel()">Cancel</button>
</div>