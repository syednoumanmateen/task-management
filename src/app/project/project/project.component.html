<h4 class="d-flex justify-content-between align-items-center w-100 font-weight-bold py-3 mb-4">
  <div>Projects</div>
  <button type="button" class="btn btn-primary rounded-pill d-block" (click)="onCreateProject()"><span
      class="ion ion-md-add"></span>&nbsp; Create
    project</button>
</h4>

<div class="row">
  <div class="col-sm-6 col-xl-4" *ngFor="let project of userData">
    <div class="card mb-4">

      <div class="card-body d-flex justify-content-between align-items-start pb-3">
        <div>
          <span *ngIf="loading">
            <app-spinner></app-spinner>
          </span>
          <a *ngIf="!loading" class="text-body text-big
            font-weight-semibold">{{project.nameOfProject||""}}({{project.projectCode||""}})</a>
          <span class="badge align-text-bottom ml-1">{{project.status||""}}</span>

        </div>

        <div class="btn-group" ngbDropdown> <button type="button"
            class="btn btn-default btn-sm icon-btn borderless rounded-pill md-btn-flat hide-arrow" ngbDropdownToggle><i
              class="ion ion-ios-more"></i></button>
          <div ngbDropdownMenu>
            <a class="dropdown-item" (click)="onView(project._id||'')">View</a>
            <a class="dropdown-item" (click)="onRemove(project._id||'')">Remove</a>
          </div>
        </div>
      </div>

      <span *ngIf="loading">
        <app-spinner></app-spinner>
      </span>
      <div *ngIf="!loading" class="card-body pb-3">
        {{project.projectDescription||""}}
      </div>

      <span *ngIf="loading">
        <app-spinner></app-spinner>
      </span>
      <div *ngIf="!loading" class="card-body pb-3">
        {{project.handledBy.fName||""}}&nbsp;{{project.handledBy.lName||""}}
      </div>

      <div class="card-body pt-0">
        <div class="row">
          <div class="col">
            <div class="text-muted small">Started</div>
            <span *ngIf="loading">
              <app-spinner></app-spinner>
            </span>
            <div *ngIf="!loading" class="font-weight-bold">{{project.startDate |date:'dd/MM/yyyy'||""}}</div>
          </div>
          <div class="col">
            <div class="text-muted small">Deadline</div>
            <span *ngIf="loading">
              <app-spinner></app-spinner>
            </span>
            <div *ngIf="!loading" class="font-weight-bold">{{project.endDate|date:'dd/MM/yyyy'||""}}</div>
          </div>
        </div>
      </div>
      <hr class="m-0">
      <div class="card-body py-3">
        <div class="text-muted small mb-2">Team</div>
        <span *ngIf="loading">
          <app-spinner></app-spinner>
        </span>
        <div *ngIf="!loading">
          <div class="d-flex flex-wrap" *ngFor="let member of project.members">
            {{member.fName||""}}&nbsp;{{member.lName||""}}
          </div>
        </div>
      </div>

    </div>
  </div>
</div>